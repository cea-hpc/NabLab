/* DO NOT EDIT THIS FILE - it is machine generated */

#include "R2Service.h"
#include <arcane/Concurrency.h>
#include <arcane/ITimeLoopMng.h>

using namespace Arcane;

/*** Module/Service **********************************************************/

R2Service::R2Service(const ServiceBuildInfo& bi)
: ArcaneR2Object(bi)
, m_default_queue(subDomain()->acceleratorMng()->defaultQueue())
{}

/**
 * Job rj1 called @3.0 in simulate method.
 * In variables: hv3
 * Out variables: rv2
 */
void R2Service::rj1()
{
	auto command = makeCommand(m_default_queue);
	auto in_hv3 = ax::viewIn(command, m_hv3);
	auto in_rv2 = ax::viewOut(command, m_rv2);
	command << RUNCOMMAND_ENUMERATE(Cell, cCells, allCells())
	{
		in_rv2[cCells] = in_hv3[cCells] * 2.0;
	};
}

/**
 * Job rj2 called @4.0 in simulate method.
 * In variables: rv2
 * Out variables: hv6
 */
void R2Service::rj2()
{
	auto command = makeCommand(m_default_queue);
	auto in_rv2 = ax::viewIn(command, m_rv2);
	auto in_hv6 = ax::viewOut(command, m_hv6);
	command << RUNCOMMAND_ENUMERATE(Cell, cCells, allCells())
	{
		in_hv6[cCells] = in_rv2[cCells] * 3.0;
	};
}

ARCANE_REGISTER_SERVICE_R2(R2, R2Service);
